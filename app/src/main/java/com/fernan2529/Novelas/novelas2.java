package com.fernan2529.Novelas;

import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.Spinner;

import androidx.appcompat.app.AppCompatActivity;

import com.fernan2529.R;
import com.fernan2529.WebViewActivities.WebViewActivityAds;
import com.fernan2529.WebViewActivities.WebViewActivityGeneral;
import com.fernan2529.WebViewActivities.WebViewActivitySoloFin;

import java.util.Random;

public class novelas2 extends AppCompatActivity {

    private Spinner spinnerVideos;
    private ArrayAdapter<String> videosAdapter;
    private Random random;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_novelas2);

        spinnerVideos = findViewById(R.id.spinner_videos);
        Button playRandomButton = findViewById(R.id.aleatorio);

        // Nombres visibles en el Spinner
        final String[] videoNames = {
                "Seleccione el Capitulo",
                "01 - Capítulo",
                "02 - Capítulo",
                "03 - Capítulo",
                "04 - Capítulo",
                "05 - Capítulo",
                "06 - Capítulo",
                "07 - Capítulo",
                "08 - Capítulo",
                "09 - Capítulo",
                "10 - Capítulo",
                "11 - Capítulo",
                "12 - Capítulo",
                "13 - Capítulo",
                "14 - Capítulo",
                "15 - Capítulo",
                "16 - Capítulo",
                "17 - Capítulo",
                "18 - Capítulo",
                "19 - Capítulo",
                "20 - Capítulo",
                "21 - Capítulo",
                "22 - Capítulo",
                "23 - Capítulo",
                "24 - Capítulo",
                "25 - Capítulo",
                "26 - Capítulo",
                "27 - Capítulo",
                "28 - Capítulo",
                "29 - Capítulo",
                "30 - Capítulo",
                "31 - Capítulo",
                "32 - Capítulo",
                "33 - Capítulo",
                "34 - Capítulo",
                "35 - Capítulo",
                "36 - Capítulo",
                "37 - Capítulo",
                "38 - Capítulo",
                "39 - Capítulo",
                "40 - Capítulo",
                "41 - Capítulo",
                "42 - Capítulo",
                "43 - Capítulo",
                "44 - Capítulo",
                "45 - Capítulo",
                "46 - Capítulo",
                "47 - Capítulo",
                "48 - Capítulo",
                "49 - Capítulo",
                "50 - Capítulo",
                "51 - Capítulo",
                "52 - Capítulo",
                "53 - Capítulo",
                "54 - Capítulo",
                "55 - Capítulo",
                "56 - Capítulo",
                "57 - Capítulo",
                "58 - Capítulo",
                "59 - Capítulo",
                "60 - Capítulo",
                "61 - Capítulo",
                "62 - Capítulo",
                "63 - Capítulo",
                "64 - Capítulo",
                "65 - Capítulo",
                "66 - Capítulo",
                "67 - Capítulo",
                "68 - Capítulo",
                "69 - Capítulo",
                "70 - Capítulo",
                "71 - Capítulo",
                "72 - Capítulo",
                "73 - Capítulo",
                "74 - Capítulo",
                "75 - Capítulo",
                "76 - Capítulo",
                "77 - Capítulo",
                "78 - Capítulo",
                "79 - Capítulo",
                "80 - Capítulo",
                "81 - Capítulo",
                "82 - Capítulo",
                "83 - Capítulo",
                "84 - Capítulo",
                "85 - Capítulo",
                "86 - Capítulo",
                "87 - Capítulo",
                "88 - Capítulo",
                "89 - Capítulo",
                "90 - Capítulo",
                "91 - Capítulo",
                "92 - Capítulo",
                "93 - Capítulo",
                "94 - Capítulo",
                "95 - Capítulo",
                "96 - Capítulo",
                "97 - Capítulo",
                "98 - Capítulo",
                "99 - Capítulo",
                "100 - Capítulo",
                "101 - Capítulo",
                "102 - Capítulo",
                "103 - Capítulo",
                "104 - Capítulo",
                "105 - Capítulo",
                "106 - Capítulo",
                "107 - Capítulo",
                "108 - Capítulo",
                "109 - Capítulo",
                "110 - Capítulo",
                "111 - Capítulo",
                "112 - Capítulo",
                "113 - Capítulo",
                "114 - Capítulo",
                "115 - Capítulo",
                "116 - Capítulo",
                "117 - Capítulo",
                "118 - Capítulo",
                "119 - Capítulo",
                "120 - Capítulo",
                "121 - Capítulo",
                "122 - Capítulo",
                "123 - Capítulo",
                "124 - Capítulo",
                "125 - Capítulo",
                "126 - Capítulo",
                "127 - Capítulo",
                "128 - Capítulo",
                "129 - Capítulo",
                "130 - Capítulo",
                "131 - Capítulo",
                "132 - Capítulo",
                "133 - Capítulo",
                "134 - Capítulo",
                "135 - Capítulo",
                "136 - Capítulo",
                "137 - Capítulo",
                "138 - Capítulo",
                "139 - Capítulo",
                "140 - Capítulo",
                "141 - Capítulo",
                "142 - Capítulo",
                "143 - Capítulo",
                "144 - Capítulo",
                "145 - Capítulo",
                "146 - Capítulo",
                "147 - Capítulo",
                "148 - Capítulo",
                "149 - Capítulo",
                "150 - Capítulo",
                "151 - Capítulo",
                "152 - Capítulo",
                "153 - Capítulo",
                "154 - Capítulo",
                "155 - Capítulo",
                "156 - Capítulo",
                "157 - Capítulo",
                "158 - Capítulo",
                "159 - Capítulo",
                "160 - Capítulo",
                "161 - Capítulo",
                "162 - Capítulo",
                "163 - Capítulo",
                "164 - Capítulo",
                "165 - Capítulo",
                "166 - Capítulo",
                "167 - Capítulo",
                "168 - Capítulo",
                "169 - Capítulo",
                "170 - Capítulo",
                "171 - Capítulo",
                "172 - Capítulo",
                "173 - Capítulo",
                "174 - Capítulo",
                "175 - Capítulo",
                "176 - Capítulo",
                "177 - Capítulo",
                "178 - Capítulo",
                "179 - Capítulo",
                "180 - Capítulo",
                "181 - Capítulo",
                "182 - Capítulo",
                "183 - Capítulo",
                "184 - Capítulo",
                "185 - Capítulo",
                "186 - Capítulo",
                "187 - Capítulo",
                "188 - Capítulo",
                "189 - Capítulo",
                "190 - Capítulo",
                "191 - Capítulo",
                "192 - Capítulo",
                "193 - Capítulo",
                "194 - Capítulo"
        };

        // URLs correspondientes (mismo índice que videoNames)
        final String[] videoUrls = {
                "",
                "https://m.ok.ru/video/3461993597551" ,
                "https://m.ok.ru/video/3461994252911" ,
                "https://m.ok.ru/video/3461995432559",
                "https://m.ok.ru/video/3461995235951",
                "https://m.ok.ru/video/3461993925231",
                "https://m.ok.ru/video/3461995694703",
                "https://m.ok.ru/video/3461995629167",
                "https://m.ok.ru/video/3461995563631",
                "https://m.ok.ru/video/3461993859695",
                "https://m.ok.ru/video/3461994383983",
                "https://m.ok.ru/video/3461994777199",
                "https://m.ok.ru/video/3461995039343",
                "https://m.ok.ru/video/3461994842735",
                "https://m.ok.ru/video/3461994187375",
                "https://m.ok.ru/video/3461995367023",
                "https://m.ok.ru/video/3461994449519",
                "https://m.ok.ru/video/3461994580591",
                "https://m.ok.ru/video/3461994908271",
                "https://m.ok.ru/video/3461994121839",
                "https://m.ok.ru/video/3461995170415",
                "https://m.ok.ru/video/3461995301487",
                "https://m.ok.ru/video/3461994646127",
                "https://m.ok.ru/video/3461995498095",
                "https://m.ok.ru/video/3461993990767",
                "https://m.ok.ru/video/3461994515055",
                "https://m.ok.ru/video/3461994711663",
                "https://m.ok.ru/video/3461994318447",
                "https://m.ok.ru/video/3461993794159",
                "https://m.ok.ru/video/3461993663087",
                "https://m.ok.ru/video/3461993728623",
                "https://m.ok.ru/video/3682421705327",
                "https://m.ok.ru/video/3682422819439",
                "https://m.ok.ru/video/3682425637487",
                "https://m.ok.ru/video/3716640541295",
                "https://m.ok.ru/video/3716678814319",
                "https://m.ok.ru/video/3716717349487",
                "https://m.ok.ru/video/3716705749615",
                "https://m.ok.ru/video/3716726065775",
                "https://m.ok.ru/video/3716726786671",
                "https://m.ok.ru/video/3716727442031",
                "https://m.ok.ru/video/3716728097391",
                "https://m.ok.ru/video/3716728818287",
                "https://m.ok.ru/video/3716729211503",
                "https://m.ok.ru/video/3716729735791",
                "https://m.ok.ru/video/3716730587759",
                "https://m.ok.ru/video/3716731636335",
                "https://m.ok.ru/video/3716732750447",
                "https://m.ok.ru/video/3716733536879",
                "https://m.ok.ru/video/3716734716527",
                "https://m.ok.ru/video/3716736223855",
                "https://m.ok.ru/video/3716737010287",
                "https://m.ok.ru/video/3716738058863",
                "https://m.ok.ru/video/3716739172975",
                "https://m.ok.ru/video/3716740221551",
                "https://m.ok.ru/video/3716741073519",
                "https://m.ok.ru/video/3716742122095",
                "https://m.ok.ru/video/3716963109487",
                "https://m.ok.ru/video/3716963502703",
                "https://m.ok.ru/video/3716964092527",
                "https://m.ok.ru/video/3716965337711",
                "https://m.ok.ru/video/3716965534319",
                "https://m.ok.ru/video/3716965993071",
                "https://m.ok.ru/video/3717459937903",
                "https://m.ok.ru/video/3716966255215",
                "https://m.ok.ru/video/3716966517359",
                "https://m.ok.ru/video/3716967107183",
                "https://m.ok.ru/video/3716967500399",
                "https://m.ok.ru/video/3716968155759",
                "https://m.ok.ru/video/3716968942191",
                "https://m.ok.ru/video/3718552554095",
                "https://m.ok.ru/video/3718554585711",
                "https://m.ok.ru/video/3718554978927",
                "https://m.ok.ru/video/3718555634287",
                "https://m.ok.ru/video/3718556551791",
                "https://m.ok.ru/video/3718557010543",
                "https://m.ok.ru/video/3718557600367",
                "https://m.ok.ru/video/3718558190191",
                "https://m.ok.ru/video/3718659050095",
                "https://m.ok.ru/video/3718667045487",
                "https://m.ok.ru/video/3718675630703",
                "https://m.ok.ru/video/3718676023919",
                "https://m.ok.ru/video/3718676613743",
                "https://m.ok.ru/video/3718677269103",
                "https://m.ok.ru/video/3718677924463",
                "https://m.ok.ru/video/3718678514287",
                "https://m.ok.ru/video/3718678776431",
                "https://m.ok.ru/video/3718679497327",
                "https://m.ok.ru/video/3718680152687",
                "https://m.ok.ru/video/3718680808047",
                "https://m.ok.ru/video/3718682708591",
                "https://m.ok.ru/video/3718708398703",
                "https://m.ok.ru/video/3718708660847",
                "https://m.ok.ru/video/3718709316207",
                "https://m.ok.ru/video/3718709643887",
                "https://m.ok.ru/video/3718710102639",
                "https://m.ok.ru/video/3718710430319",
                "https://m.ok.ru/video/3718710561391",
                "https://m.ok.ru/video/3718711020143",
                "https://m.ok.ru/video/3718711216751",
                "https://m.ok.ru/video/3718711806575",
                "https://m.ok.ru/video/3718712724079",
                "https://m.ok.ru/video/3718713313903",
                "https://m.ok.ru/video/3718713510511",
                "https://m.ok.ru/video/3718715476591",
                "https://m.ok.ru/video/3718715869807",
                "https://m.ok.ru/video/3718716918383",
                "https://m.ok.ru/video/3718717573743",
                "https://m.ok.ru/video/3718718032495",
                "https://m.ok.ru/video/3718718360175",
                "https://m.ok.ru/video/3718719605359",
                "https://m.ok.ru/video/3718837832303",
                "https://m.ok.ru/video/3718838553199",
                "https://m.ok.ru/video/3718839143023",
                "https://m.ok.ru/video/3718839470703",
                "https://m.ok.ru/video/3718839929455",
                "https://m.ok.ru/video/3718840191599",
                "https://m.ok.ru/video/3718840781423",
                "https://m.ok.ru/video/3718841305711",
                "https://m.ok.ru/video/3718841895535",
                "https://m.ok.ru/video/3718842354287",
                "https://m.ok.ru/video/3718842616431",
                "https://m.ok.ru/video/3718842944111",
                "https://m.ok.ru/video/3718843337327",
                "https://m.ok.ru/video/3718843665007",
                "https://m.ok.ru/video/3718844320367",
                "https://m.ok.ru/video/3718844779119",
                "https://m.ok.ru/video/3718845237871",
                "https://m.ok.ru/video/3718845762159",
                "https://m.ok.ru/video/3718846483055",
                "https://m.ok.ru/video/3718846876271",
                "https://m.ok.ru/video/3742438197871",
                "https://m.ok.ru/video/3742437804655",
                "https://m.ok.ru/video/3742437739119",
                "https://m.ok.ru/video/3742437870191",
                "https://m.ok.ru/video/3742438066799",
                "https://m.ok.ru/video/3742437673583",
                "https://m.ok.ru/video/3742437542511",
                "https://m.ok.ru/video/3742437608047",
                "https://m.ok.ru/video/3742438001263",
                "https://m.ok.ru/video/3742437935727",
                "https://m.ok.ru/video/3742494624367",
                "https://m.ok.ru/video/3742494689903",
                "https://m.ok.ru/video/3742494886511",
                "https://m.ok.ru/video/3742495083119",
                "https://m.ok.ru/video/3742495214191",
                "https://m.ok.ru/video/3742495410799",
                "https://m.ok.ru/video/3742495541871",
                "https://m.ok.ru/video/3742495607407",
                "https://m.ok.ru/video/3742495738479",
                "https://m.ok.ru/video/3742495804015",
                "https://m.ok.ru/video/3742496066159",
                "https://m.ok.ru/video/3742496131695",
                "https://m.ok.ru/video/3762142906991",
                "https://m.ok.ru/video/3762143234671",
                "https://m.ok.ru/video/3762143365743",
                "https://m.ok.ru/video/3762143562351",
                "https://m.ok.ru/video/3762144741999",
                "https://m.ok.ru/video/3762144807535",
                "https://m.ok.ru/video/3762144873071",
                "https://m.ok.ru/video/3762145004143",
                "https://m.ok.ru/video/3762173053551",
                "https://m.ok.ru/video/3762173184623",
                "https://m.ok.ru/video/3762173250159",
                "https://m.ok.ru/video/3762173315695",
                "https://m.ok.ru/video/3762173381231",
                "https://m.ok.ru/video/3762173446767",
                "https://m.ok.ru/video/3762173512303",
                "https://m.ok.ru/video/3762173577839",
                "https://m.ok.ru/video/3762173643375",
                "https://m.ok.ru/video/3762173708911",
                "https://m.ok.ru/video/3762173774447",
                "https://m.ok.ru/video/3762173839983",
                "https://m.ok.ru/video/3762173905519",
                "https://m.ok.ru/video/3762173971055",
                "https://m.ok.ru/video/3762174102127",
                "https://m.ok.ru/video/3762174298735",
                "https://m.ok.ru/video/3762174560879",
                "https://m.ok.ru/video/3762266507887",
                "https://m.ok.ru/video/3762266770031",
                "https://m.ok.ru/video/3762267097711",
                "https://m.ok.ru/video/3762278435439",
                "https://m.ok.ru/video/3762279942767",
                "https://m.ok.ru/video/3762280598127",
                "https://m.ok.ru/video/3762281974383",
                "https://m.ok.ru/video/3762293770863",
                "https://m.ok.ru/video/3762294491759",
                "https://m.ok.ru/video/3762302028399",
                "https://m.ok.ru/video/3762303011439",
                "https://m.ok.ru/video/3762303797871",
                "https://m.ok.ru/video/3762305043055",
                "https://m.ok.ru/video/3762306615919",
                "https://m.ok.ru/video/3762308123247",
                "https://m.ok.ru/video/3762311072367",
                "https://m.ok.ru/video/3762311858799",



        };

        // Adapter para el spinner
        videosAdapter = new ArrayAdapter<>(this, android.R.layout.simple_spinner_item, videoNames);
        videosAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinnerVideos.setAdapter(videosAdapter);

        // Random
        random = new Random();

        // Selección desde el Spinner (evitando el primer ítem "Seleccione...")
        spinnerVideos.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                if (position > 0 && position < videoUrls.length) {
                    String selectedVideoUrl = videoUrls[position];
                    if (selectedVideoUrl != null && !selectedVideoUrl.isEmpty()) {
                        openWeb(selectedVideoUrl);
                    }
                }
            }
            @Override
            public void onNothingSelected(AdapterView<?> parent) { /* no-op */ }
        });

        // Botón Aleatorio (evita el índice 0)
        playRandomButton.setOnClickListener(v -> {
            int randomIndex = random.nextInt(videoUrls.length - 1) + 1;
            String randomVideoUrl = videoUrls[randomIndex];
            if (randomVideoUrl != null && !randomVideoUrl.isEmpty()) {
                openWeb(randomVideoUrl);
            }
        });
    }

    // Abre SIEMPRE WebViewActivityGeneral con la clave "url"
    private void openWeb(String url) {
        Intent intent = new Intent(novelas2.this, WebViewActivityGeneral.class);
        intent.putExtra("url", url);
        startActivity(intent);
    }
}
